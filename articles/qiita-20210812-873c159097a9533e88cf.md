---
title: "ã€Laravelã€‘Circle CIã§PHPUnitãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œçµæœã‚’åˆ†æã™ã‚‹"
emoji: "ğŸ“Š"
type: "tech"
topics: [PHP,PHPUnit,Laravel,CircleCI]
published: true
---
## èƒŒæ™¯

Circle CIã«ã¯PHP Unitã®å®Ÿè¡Œçµæœã‚’èª­ã¿å–ã‚Šã€å®Ÿè¡Œçµæœã‚’ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§è¡¨ç¤ºã™ã‚‹æ©Ÿèƒ½ãŒã‚ã‚‹ã€‚

PJãƒãƒ¼ãƒ å†…ã§æ´»ç”¨ã—ã€ãƒ†ã‚¹ãƒˆã‚’æ›¸ãæ©Ÿé‹ä¸Šæ˜‡ã‚’ç‹™ã£ã¦ãƒ¡ãƒ¢ã€‚

## å®Ÿè£…

ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œçµæœã‚’xmlã§å‡ºåŠ›ã•ã›ã‚Œã°ã‚ˆã„ã€‚

```yaml:.circleci/config.ymlï¼ˆæŠœç²‹ï¼‰
      - run:
          name: run php unit tests
          command: |
                mkdir -p phpunit
                phpdbg -qrr vendor/bin/phpunit --log-junit phpunit/junit.xml --coverage-html phpunit/coverage-report
      - store_test_results:
          path:  phpunit
      - store_artifacts:
          path:  phpunit/coverage-report
```

æ³¨ç›®ã™ã¹ãã¯ä»¥ä¸‹ã®ç‚¹

- `--log-junit`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§å®Ÿè¡Œçµæœã‚’xmlã«å‡ºåŠ›
- `store_test_results`ã§å‡ºåŠ›ã•ã‚ŒãŸxmlã‚’èª­ã¿è¾¼ã‚€

ã“ã“ã§ã¯è©³ã—ãè§¦ã‚Œãªã„ãŒ`--coverage-html`ã§ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚‚å‡ºåŠ›ã—ã¦ã„ã‚‹ã€‚

## çµæœ

å®Ÿè¡Œã•ã‚ŒãŸã‚¸ãƒ§ãƒ–ã®è©³ç´°ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã€`TESTS`ã‚¿ãƒ–ã‹ã‚‰`Test Insights`ã‚’ã‚¯ãƒªãƒƒã‚¯

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/290859/8d234510-222b-e8f5-246e-a233ae5efe77.png)

ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã€‚ï¼ˆã™ã”ã„

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/290859/911ed85f-e376-d50a-86f0-ad22ea35d64e.png)

é…ã„ãƒ†ã‚¹ãƒˆã‚„å¤±æ•—ç‡ã®é«˜ã„ãƒ†ã‚¹ãƒˆã‚’ãƒ©ãƒ³ã‚­ãƒ³ã‚°è¡¨ç¤ºã§ãã‚‹ã€‚ï¼ˆã™ã”ã„

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/290859/6ce5a2bb-dac5-1572-090d-7a8bc33fec30.png)

## çµè¨€

ã™ã”ã„

## è£œè¶³

è¨˜äº‹ã¸ã®ã”æŒ‡æ‘˜æ­“è¿ã„ãŸã—ã¾ã™ã€‚

ï¼ˆã‚«ãƒãƒ¬ãƒƒã‚¸è¡¨ç¤ºã•ã›ã‚‰ã‚ŒãŸã‚‰å®Œç’§

