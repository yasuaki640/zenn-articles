---
title: "Dockerç‰ˆOWASP ZAPã‚’M1 Macã§å‹•ã‹ã™ã€‚"
emoji: "ğŸ›°"
type: "tech"
topics: [owaspzap,è„†å¼±æ€§è¨ºæ–­,Security]
published: true
---

# èƒŒæ™¯

Webã‚¢ãƒ—ãƒªé–‹ç™ºæ™‚ã€æ‰‹è»½ã«è„†å¼±æ€§è¨ºæ–­ã‚’è¡Œãªã†ãƒ„ãƒ¼ãƒ«ã¨ã—ã¦[OWASP ZAP](https://www.zaproxy.org/)ãªã‚‹ã‚‚ã®ãŒå­˜åœ¨ã™ã‚‹ã€‚

ã“ã‚Œã‚’å®Ÿè¡Œã™ã‚‹æ–¹æ³•ã¨ã—ã¦CIç­‰ã«çµ„ã¿è¾¼ã¿ã‚„ã™ã„[Docker Image](https://hub.docker.com/r/owasp/zap2docker-stable/)ãŒã‚ã‚‹ãŒ22å¹´4æœˆç¾åœ¨ã€[M1 Macã«å¯¾å¿œã—ã¦ã„ãªã„](https://github.com/zaproxy/zaproxy/issues/6944)ã€‚

ã“ã‚Œã‚’å‹•ã‹ã™ãŸã‚ã«è‹¦ã—ã¿ã‚’å‘³ã‚ã£ãŸã®ã§ãƒ¡ãƒ¢ã€‚

# å®Ÿè£…

[OWASP ZAPã®ãƒªãƒã‚¸ãƒˆãƒª](https://github.com/zaproxy/zaproxy)ã‚’clone

```shell
git clone https://github.com/zaproxy/zaproxy
```

ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§build

```shell
cd docker

docker build -f Dockerfile-stable -t yasuaki640/zap2docker-stable-m1 .
```

ã¤ã„ã§ã«å®Ÿè¡Œ

```shell
$ docker run -t yasuaki640/zap2docker-stable-m1 zap-baseline.py -t https://example.com

2022-04-07 09:30:50,109 Could not find custom hooks file at /home/zap/.zap_hooks.py
Using the Automation Framework
Total of 3 URLs
PASS: Vulnerable JS Library [10003]
PASS: Cookie No HttpOnly Flag [10010]
...
```

*~Fin~*

# One more thing

dockerhubã«pushã—ã¨ãã¾ã—ãŸ!

https://hub.docker.com/repository/docker/yasuaki640/zap2docker-stable-m1

# Appendix

## è‡ªå‰ã§ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã¨ãªãœå‹•ãã‹?

M1 Macã«å¯¾å¿œã—ãŸCPUã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã§ãƒ“ãƒ«ãƒ‰ã—ãŸã‹ã‚‰ã€‚

Containerã‚’å‹•ã‹ã™ã«ã¯ImageãŒãƒ›ã‚¹ãƒˆãƒã‚·ãƒ³ã®CPUã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«å¯¾å¿œã—ãŸã‚‚ã®ãŒ[å¥½ã¾ã—ã„](https://docs.docker.com/desktop/mac/apple-silicon/#known-issues)ã€‚

ã—ã‹ã—OWASP ZAPã®Imageã¯[M1 Macã«å¯¾å¿œã—ã¦ã„ãªã„ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã§ãƒ“ãƒ«ãƒ‰](https://hub.docker.com/layers/zap2docker-stable/owasp/zap2docker-stable/latest/images/sha256-7ead4362479103b489df5d5881c37e7e142488e71fad07c4dd764c66daa8114d?context=explore)ã•ã‚Œã¦ãŠã‚Šã€containerã‚’ç«‹ã¡ä¸Šã’ã‚‹ã“ã¨ã¯ã§ãã‚‹ãŒOWASP ZAPè‡ªä½“ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã¯ã§ããªã„ã€‚

ãã“ã§OWASP ZAPã®[Dockerfile](https://github.com/zaproxy/zaproxy/blob/main/docker/Dockerfile-stable)ã‹ã‚‰ç›´æ¥ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã¨DockerãŒM1ã«å¯¾å¿œã—ãŸãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’è‡ªå‹•ã§é¸æŠã™ã‚‹ãŸã‚M1 Macã§å‹•ãImageãŒãƒ“ãƒ«ãƒ‰ã•ã‚Œã‚‹ã€‚

# çµè¨€

é–“é•ã„ã‚ã£ãŸã‚‰æŒ‡æ‘˜ãŠé¡˜ã„ã—ã¾ã™ã€‚

# å‚è€ƒ

https://groups.google.com/g/zaproxy-users/c/meg0Lkvl03s

https://github.com/zaproxy/zaproxy/issues/6944